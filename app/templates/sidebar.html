{% load static %}

<script>
    (async function() {
        try {
            const response = await fetch('{{ api_url }}/projects/?userIDs=6521d8581bcf69b7d260608b'); // TODO: REPLACE userID w/ reference
            if (!response.ok) throw new Error('Network response was not ok');
            const projects = await response.json();

            const projectListElement = document.getElementById('project-list');
            projects.forEach(function(project) {
                const listItem = document.createElement('li');
                listItem.textContent = project.name;
                listItem.className = "flex p-1  hover:text-gray-400  truncate w-32";
                projectListElement.appendChild(listItem);
                
            });

        } catch (error) {
            console.error('There has been a problem with fetching projects:', error);
        }
    })();
</script>

<div class="bg-neutral-800 min-h-screen p-4">

    <div class="text-white justify-center">
        <div class="text-xl font-bold pt-4 pb-2"> Projects</div>
        <ul class id="project-list"></ul>
    </div>

</div>